// Generated by CoffeeScript 1.4.0
(function() {

  define(['jqueryUI', 'underscore', 'UserPhotos'], function($, _, UserPhotos) {
    var userPhotos;
    userPhotos = new UserPhotos();
    $(function() {
      $('.photo-source').click(function() {
        var content_el, source;
        source = $(this).data('source');
        content_el = $("#" + source + "-photo-content");
        return content_el.toggle('slide', {
          easing: 'easeOutQuint',
          direction: 'down'
        }, 1000);
      });
      return $('.photo-submenu a').click(function() {
        var active_menu, content_source, current_pics, el, list, photo_source;
        el = $(this);
        list = $($(this).parents('ul')[0]);
        active_menu = list.find('.active');
        current_pics = $('#your-pics');
        content_source = list.data('contentsource');
        photo_source = $(this).data('photosource');
        userPhotos.loadPhotoCollection(content_source, photo_source, function(result) {
          current_pics.empty();
          return _.each(result, function(datum) {
            var content_el, li;
            li = $("<li class='span2 album'>");
            li.data('albumid', datum.id);
            content_el = $("<img src='" + datum.cover_photo_url + "' class='picture thumbnail'>");
            li.append(content_el);
            current_pics.append(li);
            active_menu.removeClass('active');
            return el.addClass('active');
          });
        });
      });
    });
  });

}).call(this);
