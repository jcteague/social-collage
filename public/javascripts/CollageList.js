// Generated by CoffeeScript 1.4.0
(function() {
  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  define(['jquery', 'UserPhotos', 'EventEmitter'], function($, UserPhotos, event_emitter) {
    var CollageList;
    return CollageList = (function() {

      function CollageList() {
        this.handle_publish_click = __bind(this.handle_publish_click, this);
        console.log("collage list setup");
        this.user_photos = new UserPhotos();
        this.publish_btn = $('.start-publish');
        this.publish_btn.click(this.handle_publish_click);
      }

      CollageList.prototype.handle_publish_click = function(evt) {
        var collage_id, collage_url, el;
        el = $(evt.currentTarget);
        collage_id = el.attr('data-id');
        collage_url = el.attr('data-photourl');
        console.log("publish: " + collage_id);
        return event_emitter.emit("PublishButtonClicked", {
          id: collage_id,
          url: collage_url
        });
      };

      return CollageList;

    })();
  });

}).call(this);
