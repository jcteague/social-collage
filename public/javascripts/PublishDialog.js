// Generated by CoffeeScript 1.4.0
(function() {

  define(['jquery', 'EventEmitter'], function($, event_emitter) {
    var display;
    $(function() {
      return $('#publish-collage').click(function(evt) {
        var photo_id;
        evt.preventDefault();
        photo_id = $(this).attr("data-photoid");
        console.log("publish collage: " + photo_id);
        event_emitter.emit("PublishCollageClicked", {
          destination: "facebook",
          photoId: photo_id
        });
        return $('#publishModal').modal('hide');
      });
    });
    return display = function(collage) {
      var img;
      img = document.getElementById("collage-preview");
      img.src = collage.getPreviewImage();
      return $('#publishModal').modal('show');
    };
  });

}).call(this);
